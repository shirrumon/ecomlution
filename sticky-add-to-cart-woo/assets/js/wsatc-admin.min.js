"use strict";function showLoader(){document.querySelector(".loader-containter").classList.add("display"),document.querySelectorAll("#wsatc-settings input[type=submit]").forEach(function(e){e.setAttribute("disabled",!0)})}function hideLoader(){document.querySelector(".loader-containter").classList.remove("display"),document.querySelectorAll("#wsatc-settings input[type=submit]").forEach(function(e){e.removeAttribute("disabled")})}!function(e){e(document).ready(function(){e(".wsatc-color-field").wpColorPicker()})}(jQuery),document.addEventListener("DOMContentLoaded",function(e){var c=document.querySelectorAll(".wsatc-tabs .tab-link");c&&(c.forEach(function(e){e.addEventListener("click",function(e){var t=e.target.getAttribute("id");t&&(localStorage.setItem("wsatc_active_tab",t),c.forEach(function(e){e.classList.remove("active")}),e.target.classList.add("active"),document.querySelectorAll(".wsatc-tab-content").forEach(function(e){e.classList.remove("active")}),document.getElementsByClassName(t)[0].classList.add("active"))})}),t=localStorage.getItem("wsatc_active_tab"),document.getElementById("".concat(t)).click());var t=document.querySelector(".button-primary.wsatc[type=submit]");t&&t.addEventListener("click",function(e){e.preventDefault();e=document.getElementById("wsatc-settings"),e=new FormData(e);e.append("action","wsatc_save_settings"),showLoader(),fetch(WSATC.ajaxUrl,{method:"POST",body:e}).then(function(e){return e.json()}).then(function(e){e.success&&(hideLoader(),document.getElementById("snackbar").classList.add("show"),setTimeout(function(){document.getElementById("snackbar").classList.remove("show")},3e3))})});t=document.querySelector(".reset-button.wsatc[type=submit]");t&&t.addEventListener("click",function(e){e.preventDefault(),confirm("Click OK to reset. All your settings will be lost!")&&((e=new FormData).append("action","wsatc_reset_settings"),showLoader(),fetch(WSATC.ajaxUrl,{method:"POST",body:e}).then(function(e){return e.json()}).then(function(e){e.success&&(location.reload(),hideLoader())}))}),document.querySelector("input[name='wsatc-redirect']").checked?(document.querySelector(".wsatc-redirect-opt").classList.remove("wsatc-hide"),"custom_url"===document.querySelector("#wsatc-redirect-location").value&&document.querySelector(".wsatc-custom-url").classList.remove("wsatc-hide")):(document.querySelector(".wsatc-redirect-opt").classList.add("wsatc-hide"),document.querySelector(".wsatc-custom-url").classList.add("wsatc-hide")),document.querySelector("input[name='wsatc-redirect']").addEventListener("change",function(e){e.target.checked?(document.querySelector(".wsatc-redirect-opt").classList.remove("wsatc-hide"),"custom_url"===document.querySelector("#wsatc-redirect-location").value&&document.querySelector(".wsatc-custom-url").classList.remove("wsatc-hide")):(document.querySelector(".wsatc-redirect-opt").classList.add("wsatc-hide"),document.querySelector(".wsatc-custom-url").classList.add("wsatc-hide"))}),document.querySelector("#wsatc-redirect-location").addEventListener("change",function(e){"custom_url"===e.target.value?document.querySelector(".wsatc-custom-url").classList.remove("wsatc-hide"):document.querySelector(".wsatc-custom-url").classList.add("wsatc-hide")})});